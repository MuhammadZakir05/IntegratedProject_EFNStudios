<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Scam Awareness Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="page">
        <div class="dashboard-header">
            <div class="header-top">
                <div class="header-content">
                    <div class="header-icon">
                        <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                    </div>
                    <div>
                        <h1>Scam Awareness Simulator</h1>
                        <p class="text-sm text-gray">Stay safe, stay informed</p>
                    </div>
                </div>
                <a href="profile.html" class="profile-btn">
                    <svg class="icon" viewBox="0 0 24 24" style="color: #d1d5db;">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span class="badge-count" id="badge-count">0</span>
                </a>
            </div>
        </div>

        <div class="container">
            <a href="scenario-selection.html" class="nav-card">
                <div class="nav-icon gradient-blue">
                    <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                        <circle cx="12" cy="12" r="10"/>
                        <polygon points="10 8 16 12 10 16 10 8"/>
                    </svg>
                </div>
                <div style="flex: 1;">
                    <h3 class="mb-1">Start Scenario</h3>
                    <p class="text-sm text-gray">Experience real-world scam simulations</p>
                </div>
                <svg class="icon" viewBox="0 0 24 24" style="color: #4b5563;">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </a>

            <a href="scampedia.html" class="nav-card">
                <div class="nav-icon gradient-purple">
                    <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                        <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                        <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                    </svg>
                </div>
                <div style="flex: 1;">
                    <h3 class="mb-1">Scampedia</h3>
                    <p class="text-sm text-gray">Learn about different scam types</p>
                </div>
                <svg class="icon" viewBox="0 0 24 24" style="color: #4b5563;">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </a>

            <a href="scam-impact.html" class="nav-card">
                <div class="nav-icon gradient-red">
                    <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                        <polyline points="17 6 23 6 23 12"/>
                    </svg>
                </div>
                <div style="flex: 1;">
                    <h3 class="mb-1">Scam Impact</h3>
                    <p class="text-sm text-gray">View your financial insights</p>
                </div>
                <svg class="icon" viewBox="0 0 24 24" style="color: #4b5563;">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </a>

            <a href="contact.html" class="nav-card">
                <div class="nav-icon gradient-green">
                    <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                    </svg>
                </div>
                <div style="flex: 1;">
                    <h3 class="mb-1">Contact & Help</h3>
                    <p class="text-sm text-gray">Report scams or get assistance</p>
                </div>
                <svg class="icon" viewBox="0 0 24 24" style="color: #4b5563;">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </a>

            <a href="settings.html" class="nav-card">
                <div class="nav-icon gradient-gray">
                    <svg class="icon" viewBox="0 0 24 24" style="color: white;">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v6m0 6v6"/>
                    </svg>
                </div>
                <div style="flex: 1;">
                    <h3 class="mb-1">Settings</h3>
                    <p class="text-sm text-gray">Customize your experience</p>
                </div>
                <svg class="icon" viewBox="0 0 24 24" style="color: #4b5563;">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </a>

            <div style="background: linear-gradient(to bottom right, #111827, #1f2937); border: 1px solid #374151; border-radius: 1rem; padding: 1.5rem; margin-top: 2rem;">
                <h3 class="mb-4">Quick Stats</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <p class="stat-value" id="scenarios-completed">0</p>
                        <p class="stat-label">Scenarios Completed</p>
                    </div>
                    <div class="stat-card">
                        <p class="stat-value text-green" id="achievements-count">0</p>
                        <p class="stat-label">Achievements</p>
                    </div>
                    <div class="stat-card">
                        <p class="stat-value text-yellow" id="trophy-count">0</p>
                        <p class="stat-label">Trophies</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="badge-popup" class="badge-popup-overlay hidden">
        <div class="badge-popup">
            <button class="close-btn" onclick="closeBadgePopup()">
                <svg class="icon" viewBox="0 0 24 24">
                    <line x1="18" y1="6" x2="6" y2="18"/>
                    <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
            </button>

            <div class="text-center">
                <div class="badge-icon" id="popup-badge-icon">
                    <svg class="icon" viewBox="0 0 24 24" style="width: 3rem; height: 3rem; color: white;">
                        <circle cx="12" cy="8" r="7"/>
                        <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                    </svg>
                </div>

                <div class="flex items-center justify-center gap-2 mb-2">
                    <svg class="icon" viewBox="0 0 24 24" style="color: #facc15;">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" fill="currentColor"/>
                    </svg>
                    <h2 id="popup-badge-type">Badge Unlocked!</h2>
                    <svg class="icon" viewBox="0 0 24 24" style="color: #facc15;">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" fill="currentColor"/>
                    </svg>
                </div>

                <h3 class="mb-3 text-yellow" id="popup-badge-title">Achievement Title</h3>
                <p class="text-sm text-gray" id="popup-badge-description">Achievement description</p>

                <button class="btn btn-primary mt-6" onclick="closeBadgePopup()">Awesome!</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        // Check if user is logged in
        const currentUser = getCurrentUser();
        if (!currentUser) {
            window.location.href = 'login.html';
        }

        // Update stats
        const achievements = getAchievements();
        const scenarios = getCompletedScenarios();
        const badgeCount = getAchievementCount();
        const trophyCount = achievements.master_trophy ? 1 : 0;

        document.getElementById('badge-count').textContent = badgeCount;
        document.getElementById('scenarios-completed').textContent = scenarios.length;
        document.getElementById('achievements-count').textContent = badgeCount;
        document.getElementById('trophy-count').textContent = trophyCount;

        // Check for pending badge
        checkPendingBadge();
    </script>
</body>
</html>